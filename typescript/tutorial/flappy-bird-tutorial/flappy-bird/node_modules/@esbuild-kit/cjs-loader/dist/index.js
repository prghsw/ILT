"use strict";var m=require("fs"),v=require("module"),r=require("@esbuild-kit/core-utils"),_=require("get-tsconfig");function c(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var p=c(m),n=c(v),g=c(_);const y=/\.[cm]?tsx?$/,i=g.default(),j=i==null?void 0:i.config,h=r.installSourceMapSupport();function l(e,t){process.send&&process.send({type:"dependency",path:t});const o=p.default.readFileSync(t,"utf8"),s=r.transformSync(o,t,{format:"cjs",tsconfigRaw:j});s.map&&h.set(t,s.map),e._compile(s.code,t)}const u=n.default._extensions;[".js",".ts",".tsx",".jsx"].forEach(e=>{u[e]=l}),[".cjs",".mjs",".cts",".mts"].forEach(e=>{Object.defineProperty(u,e,{value:l,enumerable:!1})});const d=n.default._resolveFilename;n.default._resolveFilename=function(e,t,o,s){if(e.startsWith("node:")&&(e=e.slice(5)),t&&y.test(t.filename)){const a=r.resolveTsPath(e);if(a)try{return d.call(this,a,t,o,s)}catch(f){if(f.code!=="MODULE_NOT_FOUND")throw f}}return d.call(this,e,t,o,s)};
